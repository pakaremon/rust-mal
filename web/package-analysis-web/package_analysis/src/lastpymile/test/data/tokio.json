{"_id":"tokio","_rev":"4-dae04f47d25b2039bfad9dc53254d99f","name":"tokio","dist-tags":{"latest":"0.1.2"},"versions":{"0.1.0":{"name":"tokio","version":"0.1.0","description":"Web scraping made simple.","repository":{"url":"https://github.com/egoist/tokio.git","type":"git"},"main":"index.js","files":["index.js"],"scripts":{"test":"npm run lint && jest","lint":"xo"},"author":{"name":"egoist","email":"0x142857@gmail.com"},"license":"MIT","dependencies":{"cheerio":"^1.0.0-rc.2","jsdom":"^11.10.0"},"devDependencies":{"eslint-config-rem":"^4.0.0","jest":"^22.4.3","xo":"^0.21.0"},"xo":{"extends":"rem","envs":["jest"]},"jest":{"testEnvironment":"node"},"licenseText":"The MIT License (MIT)\n\nCopyright (c) egoist <0x142857@gmail.com> (https://github.com/egoist)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n","_id":"tokio@0.1.0","dist":{"shasum":"da802b2d3f8ae2a69ae0f6825aaaedfe3c400e3b","tarball":"https://registry.npmjs.org/tokio/-/tokio-0.1.0.tgz","fileCount":5,"unpackedSize":6622,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJa9+xICRA9TVsSAnZWagAAm/EQAJV4CTrSGhRRexUmw6sZ\nV3/9IkCwc3tNOj6/SmJ9KKuxppbExXu2jCe72Y1p24Aaa6cUqCFpDrBNEGK6\n4L6cJnpFKDc30L+32ZWzDrpANU7fmFXRlvyKMb30Az1wizxRJ8C5kfebOSnX\na/IZL4Z/uCVTBzo11m24dg99/6ROtcUwkrL4Q3vPoSFipFvqVlAgwz/ILOpt\nVVvXfKE9Culv4VCgYj9WJDiO+S1VYxiw1PRfDcXy4VjgcXK88P3vK6emozCi\nKIGJmd6iObaSOpMbX4HlyDo+PO+GVKucY6M9NqynlsjGBjUTpZOO9UVe5k4Q\nhW0tcpeS06MtqWU660kz6DG22lrnpgQ7ZZuWiiZsf9PTHUMd0ONH+lW4HWZI\nOpSAZmbQGSQszK0hxDP4b5tr3ZWdxcMnudyyb31/Ks+B5FSRxdAbDHKz/9YN\nkeeYaqVn8T44BTKf+jG4A11nJUO77I0j9+mm12PO/jWWLXOlzyLdOmiRUSsg\n1qBLc7eC+CV4UY20LU0JYZOpSe9E2WsPnmCuREkuuhRsy+z6C3A6WLfguLKd\ncK868llyERQfw4Z+qJY0F7/YFjmsvLdEwb3dsk3uFGqXr6VEAZ4QYMkm1fIW\nxeOpn+iN4HTSOysgWshBjY4TAgpyhOdg3xcd3BtySb93W5JefryLlZ3qroml\nL0FZ\r\n=wjT0\r\n-----END PGP SIGNATURE-----\r\n","integrity":"sha512-/EO5mDVTbym8j0h+b6bDU/ysvsc4sXDDadllGfIXF0dbD423ST95Y2k684QQsaqKMwigpS4dKuu5e8+krh62ug==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQD6nHeQweiAvSHKbGVx6//Yq4AalHDfnSt+eiwNVEyAEAIhAIAPgsqyJUv7KBEpnbwoyqvNRDsnaCLecNFPVr2Zzmgf"}]},"maintainers":[{"name":"egoist","email":"0x142857@gmail.com"}],"_npmUser":{"name":"egoist","email":"0x142857@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/tokio_0.1.0_1526197319410_0.9416653519844567"},"_hasShrinkwrap":false},"0.1.1":{"name":"tokio","version":"0.1.1","description":"Web scraping made simple.","repository":{"url":"https://github.com/egoist/tokio.git","type":"git"},"main":"index.js","files":["index.js"],"scripts":{"test":"npm run lint && jest","lint":"xo"},"author":{"name":"egoist","email":"0x142857@gmail.com"},"license":"MIT","dependencies":{"cheerio":"^1.0.0-rc.2","jsdom":"^11.10.0"},"devDependencies":{"eslint-config-rem":"^4.0.0","jest":"^22.4.3","xo":"^0.21.0"},"xo":{"extends":"rem","envs":["jest"]},"jest":{"testEnvironment":"node"},"licenseText":"The MIT License (MIT)\n\nCopyright (c) egoist <0x142857@gmail.com> (https://github.com/egoist)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n","_id":"tokio@0.1.1","dist":{"shasum":"a377ba2450c8fd48c210f8707b150945a843e43a","tarball":"https://registry.npmjs.org/tokio/-/tokio-0.1.1.tgz","fileCount":5,"unpackedSize":7395,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJa9/6TCRA9TVsSAnZWagAA8nIP/0kfwRvVil482lJttA3v\nx3I/f+wBnE7F182ZNES4MlzuZKyn8kR6DB6AIO4ictklefsE5xL9DBEmzqyQ\nHUQ/jFbmYL3jIrNMzm+PjOPkXkP0YdJIYSn3YPmDCC0JF43FOG6KzkMK6lnV\nFt7Ms2VrWQee5bdwL0JtBKXLFATOm/P/5C3XUjDtOMQHpoLCg/ePFtiMr+gi\n0IQ7+83zCcCAfWI79ZuhCbFIQ7LmBJtWyp9fYNsVdyAL6Mtob/S05wGBx4R1\nqI9FN+lRGltnT2cKwvcSvCfTz+XELGSeV+hfk0alEm6NsfqAr8oFMhsvX+ve\nrroypoQBGaOqNgog401reAXoV3iW14o3G6c7GfN1rFJycuAXcyBO6PW9v4bz\n2UEpH65A9tH2K4M5YWbgjlGYlOCa9U7XodtUnxx4zy+fzqGAYzzgsEXzsj1w\nb2oJPfXxGsNp3xV7vzJoP24eDtcow8ssLJRWFzDrH/DeX7IyW3Xnmbs9Rsqd\nDDrKE/3+Jf/B1pQKW+Ihu9tc8G23cEfzNtnpMANvVrPyeA+nDqjm45j7RnpM\nrb3jphD8LFZf2h4RWVWyIUownMvLcgBTUriP9qrZTYJvagJLXAiaH6AErP49\n8dil1RLwuPHibLK2vVEvBZMZp3OPveABVWbwOeOXHho+UBLWlzBdk2+N3i6X\nnbUV\r\n=J/Hn\r\n-----END PGP SIGNATURE-----\r\n","integrity":"sha512-iiVgfvXOVqadIenKBc4nAG9/UVkFm98J4gX3RQspyTbiEmeMGuJJLCgbjsAsktbTZUIU1CGDzoHD1dGVH19Orw==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIBVu0NTIUu0Gadhxu6v1DWVNcWgxqe4QVPGZ9KzBPPAXAiEA7dd7ECg/Qd7ukYAVcMV2aOxcMYaHQ+jowY4FGx+tVx8="}]},"maintainers":[{"name":"egoist","email":"0x142857@gmail.com"}],"_npmUser":{"name":"egoist","email":"0x142857@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/tokio_0.1.1_1526202002914_0.24817499094709672"},"_hasShrinkwrap":false},"0.1.2":{"name":"tokio","version":"0.1.2","description":"Web scraping made simple.","repository":{"url":"https://github.com/egoist/tokio.git","type":"git"},"main":"index.js","files":["index.js"],"scripts":{"test":"npm run lint && jest","lint":"xo","toc":"markdown-toc -i README.md"},"author":{"name":"egoist","email":"0x142857@gmail.com"},"license":"MIT","dependencies":{"cheerio":"^1.0.0-rc.2","jsdom":"^11.10.0"},"devDependencies":{"eslint-config-rem":"^4.0.0","jest":"^22.4.3","markdown-toc":"^1.2.0","xo":"^0.21.0"},"xo":{"extends":"rem","envs":["jest"]},"jest":{"testEnvironment":"node"},"licenseText":"The MIT License (MIT)\n\nCopyright (c) egoist <0x142857@gmail.com> (https://github.com/egoist)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n","_id":"tokio@0.1.2","dist":{"shasum":"8a801119aaa10dca6d18cb61f37ca73cdc3f0cd2","tarball":"https://registry.npmjs.org/tokio/-/tokio-0.1.2.tgz","fileCount":5,"unpackedSize":8990,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJa+N+XCRA9TVsSAnZWagAAiCoP/j/xaVYpDgvk51fQFhxt\ntt/QbRr2+/2m5t0Hk2Xrij3VE8//Om9b1/Y1Lp2uwc7VvCK+VC/L3cEem86Z\nlhHtt0c0XjFO98uzii4SXnad+vMoaPAJ76CvLeiWkqt9uQfmOZu7Ym3CbCPW\nh/XuARzmZgCb6MLz4Gj6pXTvW5uGpGkbDO8Ri/oyucDC5ytr9ZWyn2ghdb92\nhVOpsglVzbvatH2TxmeV+/xC33iQ0zDh0alTJlHGeghrQs6BjJGM+U0jA76o\n1JxfIuZv2L2hy3PrBq+VwXgE+mXUXo3A+YeJ1JRHFo6HYZmE5rY3ICa5k2UJ\nvxNg5BxZt7vQGJ6YmaHekvtlxiK25goSwCQTPUbH7mkYthbx1L+TIKZwt7gO\nmDkUKpQuvoBr+HHu/vuYLPrTXXN3AXoaICH4YAMvP61GvolpLZ9VolGD2VW7\n4lCZoO4/r9fSGK+i625dBuyMenf7t1Fe7n2G+7S5/mgRqzxsED6QCouonGdO\nzt785tgstE8ir3BbD6rFjZ2xGrMSjnUwFJFw4meH49mRw+wMVUXrHMd/wiA/\nShOF0fojbHjjzsP71EsoRGyEoPEem/4/oTVo9i1DxFTYFqYhBSA+4UlnKFcZ\nlcKaDkfFUpTf5HZcem7BKhla0gktRL7im2iqtUV+1X35XIFWHr77u0EmmZ5S\nD3vN\r\n=ZbTf\r\n-----END PGP SIGNATURE-----\r\n","integrity":"sha512-i6HgwTIQVJLkE3w0K/uLkARJEtfmnuq9MxpvhymbgpP+DxU3dKSxqKNuO2GMiH51MTrlgCU2uQ4dDjunWLHWDg==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDBF+k+OQjDEFk9w+m2HZyD+xzNKjRNSwCyMCIEZQkp9QIgD7PfHB86yvDRNRHrj6TCq2FdLA6NCXu5tsS3KTEZK70="}]},"maintainers":[{"name":"egoist","email":"0x142857@gmail.com"}],"_npmUser":{"name":"egoist","email":"0x142857@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/tokio_0.1.2_1526259606502_0.15968757390596378"},"_hasShrinkwrap":false}},"time":{"created":"2018-05-13T07:41:59.409Z","0.1.0":"2018-05-13T07:41:59.572Z","modified":"2022-06-27T18:07:26.150Z","0.1.1":"2018-05-13T09:00:03.015Z","0.1.2":"2018-05-14T01:00:06.713Z"},"maintainers":[{"name":"egoist","email":"0x142857@gmail.com"}],"description":"Web scraping made simple.","repository":{"url":"https://github.com/egoist/tokio.git","type":"git"},"author":{"name":"egoist","email":"0x142857@gmail.com"},"license":"MIT","readme":"# tokio\n\n[![NPM version](https://img.shields.io/npm/v/tokio.svg?style=flat)](https://npmjs.com/package/tokio) [![NPM downloads](https://img.shields.io/npm/dm/tokio.svg?style=flat)](https://npmjs.com/package/tokio) [![CircleCI](https://circleci.com/gh/egoist/tokio/tree/master.svg?style=shield)](https://circleci.com/gh/egoist/tokio/tree/master)  [![donate](https://img.shields.io/badge/$-donate-ff69b4.svg?maxAge=2592000&style=flat)](https://github.com/egoist/donate) [![chat](https://img.shields.io/badge/chat-on%20discord-7289DA.svg?style=flat)](https://chat.egoist.moe)\n\n> Web scraping made simple.\n\n## Features\n\n- Built on the top of [jsdom](https://github.com/jsdom/jsdom).\n- It runs inline and external scripts on the page.\n- You can add resource filter to not load certain external resources.\n- Simple and fast, only 100 SLOC and it does not require Electron or Chromium.\n\n## Install\n\n```bash\nyarn add tokio\n```\n\n## Table of Contents\n\n<!-- toc -->\n\n- [Usage](#usage)\n- [API](#api)\n  * [new Tokio(options)](#new-tokiooptions)\n    + [options](#options)\n      - [options.url](#optionsurl)\n      - [options.wait](#optionswait)\n      - [options.manually](#optionsmanually)\n      - [options.resourceFilter](#optionsresourcefilter)\n      - [options.requestOptions](#optionsrequestoptions)\n  * [tokio.fetch()](#tokiofetch)\n  * [tokio.query(html, opts)](#tokioqueryhtml-opts)\n- [Contributing](#contributing)\n- [Author](#author)\n\n<!-- tocstop -->\n\n## Usage\n\n```js\nconst Tokio = require('tokio')\n\nconst tokio = new Tokio({\n  url: 'https://some-website.com'\n})\n\ntokio.fetch().then(html => {\n  console.log(html) //=> string\n\n  // Query HTML with cheerio (server-side jQuery)\n  // https://github.com/cheeriojs/cheerio\n  const $ = tokio.query(html)\n})\n```\n\n## API\n\n### new Tokio(options)\n\n#### options\n\n##### options.url\n\n- __Type__: `string`\n- __Required__: `required`\n\nThe URL to fetch.\n\n##### options.wait\n\n- __Type__: `number` `string`\n- __Default__: `50`\n\nWait for certain time (in milliseconds) or dom element to show up.\n\n##### options.manually\n\n- __Type__: `boolean` `string`\n\nInstead of using [options.wait](#options-wait), you can manually call `window.__tokio_ready__()` in your website to tell us that it's ready to be captured.\n\nIt can also be a string like `i_am_ready` so that you can call `window.i_am_ready()` instead.\n\n##### options.resourceFilter\n\n- __Type__: `resource => boolean`\n\nWhether to load certain resource. Check out the [resource](https://github.com/jsdom/jsdom/blob/master/lib/old-api.md#custom-external-resource-loader) type.\n\n##### options.requestOptions\n\n- `proxy`: `string` A URL for a HTTP proxy to use for the requests.\n- `agent`: http(s).Agent instance to use.\n- `agentOptions`: The agent options; defaults to `{ keepAlive: true, keepAliveMsecs: 115000 }`, see [http api](https://nodejs.org/api/http.html) for more details.\n- `strictSSL`: If `true`, requires SSL certificates be valid; defaults to `true`, see [request module](https://github.com/request/request#requestoptions-callback) for more details.\n- `userAgent`: The user agent string used in requests; defaults to `Node.js (#process.platform#; U; rv:#process.version#)`\n- `headers`: An object giving any headers that will be used while loading the HTML from `options.url`, if applicable.\n\n### tokio.fetch()\n\n- __Type__: `() => Promise<string>`\n\nFetch URL and return corresponding HTML. (JavaScript on this page will be evaluated.)\n\n### tokio.query(html, opts)\n\nThis is basically [`cheerio.load(html, opts)`](https://github.com/cheeriojs/cheerio#loading).\n\n## Contributing\n\n1. Fork it!\n2. Create your feature branch: `git checkout -b my-new-feature`\n3. Commit your changes: `git commit -am 'Add some feature'`\n4. Push to the branch: `git push origin my-new-feature`\n5. Submit a pull request :D\n\n\n## Author\n\n**tokio** © [egoist](https://github.com/egoist), Released under the [MIT](./LICENSE) License.<br>\nAuthored and maintained by egoist with help from contributors ([list](https://github.com/egoist/tokio/contributors)).\n\n> [github.com/egoist](https://github.com/egoist) · GitHub [@egoist](https://github.com/egoist) · Twitter [@_egoistlily](https://twitter.com/_egoistlily)\n","readmeFilename":"README.md"}